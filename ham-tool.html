<!--
title: CW发报训练
description: 一款训练接收或发射摩尔斯电码的训练器
published: true
date: 2025-11-13T03:21:43.284Z
tags: 
editor: code
dateCreated: 2025-11-12T07:46:03.546Z
-->

<!-- =====  样式  ===== -->
<style>
:root{--deep-black:#1a1a1a;--fluorescent-green:#00ff00;--amber-orange:#ff8c00;--dark-red:#8b0000;--dark-gray:#2d2d2d;--light-gray:#ccc;--pure-white:#fff;}
body{margin:0;background:linear-gradient(135deg,var(--deep-black) 0%,#0d0d0d 100%);color:var(--light-gray);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;}
*,*::before,*::after{box-sizing:border-box;}
h1,h2,h3{margin:0;}
.container{max-width:1280px;margin:0 auto;padding:1.5rem;}
.text-center{text-align:center;}
.grid{display:grid;gap:2rem;}
.lg\:grid-cols-2{grid-template-columns:repeat(2,1fr);}
.panel-bg{background:linear-gradient(145deg,var(--dark-gray),#1f1f1f);border:2px solid #3a3a3a;border-radius:12px;padding:1.5rem;}
.title-font{font-family:Georgia,serif;font-weight:700;}
.text-white{color:var(--pure-white);}
.text-4xl{font-size:2.25rem;}
.text-5xl{font-size:3rem;}
.text-lg{font-size:1.125rem;}
.text-sm{font-size:.875rem;}
.text-xs{font-size:.75rem;}
.text-2xl{font-size:1.5rem;}
.text-3xl{font-size:1.875rem;}
.opacity-80{opacity:.8;}
.mb-4{margin-bottom:1rem;}
.mb-6{margin-bottom:1.5rem;}
.mb-8{margin-bottom:2rem;}
.mt-6{margin-top:1.5rem;}
.p-6{padding:1.5rem;}
.px-4{padding-left:1rem;padding-right:1rem;}
.py-6{padding-top:1.5rem;padding-bottom:1.5rem;}
.gap-8{gap:2rem;}
.space-x-2>*+*{margin-left:.5rem;}
.space-x-4>*+*{margin-left:1rem;}
.space-x-8>*+*{margin-left:2rem;}
.flex{display:flex;}
.items-center{align-items:center;}
.justify-center{justify-content:center;}
.justify-between{justify-content:space-between;}
.block{display:block;}
.text-gray-300{color:#d1d5db;}
.text-gray-400{color:#9ca3af;}
.text-gray-500{color:#6b7280;}
.text-amber-400{color:#f59e0b;}
.text-blue-400{color:#60a5fa;}
.text-green-400{color:#34d399;}
.font-bold{font-weight:700;}
.font-medium{font-weight:500;}
.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;}
.text-center{text-align:center;}
.overflow-y-auto{overflow-y:auto;}
.h-16{height:4rem;}
.h-20{height:5rem;}
.max-w-7xl{max-width:1280px;}
.mx-auto{margin-left:auto;margin-right:auto;}
.rounded{border-radius:.25rem;}
.rounded-full{border-radius:9999px;}
.rounded-lg{border-radius:.5rem;}
.rounded-md{border-radius:.375rem;}
.rounded-sm{border-radius:.125rem;}
.w-11{width:2.75rem;}
.w-24{width:6rem;}
.w-full{width:100%;}
.h-6{height:1.5rem;}
.h-5{height:1.25rem;}
.w-5{width:1.25rem;}
.w-11{width:2.75rem;}
.inline-flex{display:inline-flex;}
.relative{position:relative;}
.absolute{position:absolute;}
.inset-0{top:0;right:0;bottom:0;left:0;}
.cursor-pointer{cursor:pointer;}
.transition-all{transition:all .15s ease-in-out;}
.after\:content-\[\'\'\]::after{content:"";}
.after\:absolute::after{position:absolute;}
.after\:top-\[2px\]::after{top:2px;}
.after\:left-\[2px\]::after{left:2px;}
.after\:bg-white::after{background:#fff;}
.after\:rounded-full::after{border-radius:9999px;}
.after\:h-5::after{height:1.25rem;}
.after\:w-5::after{width:1.25rem;}
.after\:transition-all::after{transition:all .15s ease-in-out;}
.peer:checked~.peer-checked\:bg-amber-500{background:#f59e0b;}
.peer:checked~.peer-checked\:after\:translate-x-full::after{transform:translateX(100%);}
.peer:checked~.peer-checked\:after\:border-white::after{border-color:#fff;}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}
.border-2{border-width:2px;}
.border-b{border-bottom-width:1px;}
.border-gray-600{border-color:#4b5563;}
.border-gray-700{border-color:#374151;}
.bg-gray-600{background:#4b5563;}
.bg-gray-800{background:#1f2937;}
.bg-amber-500{background:#f59e0b;}
.bg-blue-600{background:#2563eb;}
.bg-green-600{background:#16a34a;}
.bg-white{background:#fff;}
.text-white{color:#fff;}
.text-gray-300{color:#d1d5db;}
.text-gray-400{color:#9ca3af;}
.text-amber-400{color:#f59e0b;}
.text-blue-400{color:#60a5fa;}
.text-green-400{color:#34d399;}
.text-xs{font-size:.75rem;}
.text-sm{font-size:.875rem;}
.text-lg{font-size:1.125rem;}
.text-2xl{font-size:1.5rem;}
.text-3xl{font-size:1.875rem;}
.p-2{padding:.5rem;}
.p-3{padding:.75rem;}
.p-4{padding:1rem;}
.px-3{padding-left:.75rem;padding-right:.75rem;}
.py-1{padding-top:.25rem;padding-bottom:.25rem;}
.py-2{padding-top:.5rem;padding-bottom:.5rem;}
.py-8{padding-top:2rem;padding-bottom:2rem;}
.pl-2{padding-left:.5rem;}
.pr-2{padding-right:.5rem;}
.mt-1{margin-top:.25rem;}
.mt-2{margin-top:.5rem;}
.mt-3{margin-top:.75rem;}
.mt-4{margin-top:1rem;}
.-mx-2{margin-left:-.5rem;margin-right:-.5rem;}
.gap-4{gap:1rem;}
.gap-2{gap:.5rem;}
.grid{display:grid;}
.grid-cols-1{grid-template-columns:1fr;}
.grid-cols-2{grid-template-columns:repeat(2,1fr);}
.grid-cols-3{grid-template-columns:repeat(3,1fr);}
.grid-cols-4{grid-template-columns:repeat(4,1fr);}
.grid-cols-6{grid-template-columns:repeat(6,1fr);}
.hidden{display:none;}
.opacity-60{opacity:.6;}
.opacity-80{opacity:.8;}
.outline-none{outline:2px solid transparent;outline-offset:2px;}
.rounded-full{border-radius:9999px;}
.rounded-lg{border-radius:.5rem;}
.rounded-md{border-radius:.375rem;}
.rounded-sm{border-radius:.125rem;}
.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);}
.shadow-md{box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06);}
.transition{transition:all .15s ease-in-out;}
.transition-all{transition:all .15s ease-in-out;}
.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1);}
.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1);}
.duration-150{transition-duration:150ms;}
.duration-300{transition-duration:300ms;}
.duration-500{transition-duration:500ms;}
.border-gray-600{border-color:#4b5563;}
.border-gray-700{border-color:#374151;}
.border-gray-800{border-color:#1f2937;}
.border-amber-400{border-color:#f59e0b;}
.border-blue-400{border-color:#60a5fa;}
.border-green-400{border-color:#34d399;}
.hover\:bg-gray-800:hover{background:#1f2937;}
.hover\:text-white:hover{color:#fff;}
.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px;}
.focus\:ring-2:focus{box-shadow:0 0 0 2px #3b82f6;}
.focus\:ring-blue-500:focus{box-shadow:0 0 0 2px #3b82f6;}
.focus\:ring-offset-2:focus{box-shadow:0 0 0 2px #3b82f6,0 0 0 4px #1e40af;}
.disabled\:opacity-50:disabled{opacity:.5;}
.disabled\:cursor-not-allowed:disabled{cursor:not-allowed;}
/* 按钮 & 频谱 */
.cw-button{width:120px;height:120px;border-radius:8px;font-size:24px;font-weight:700;cursor:pointer;transition:all .1s ease;position:relative;overflow:hidden;}
.dot-button{background:linear-gradient(145deg,var(--amber-orange),#e69500);border:3px solid #cc8400;color:var(--deep-black);}
.dot-button:hover{box-shadow:0 0 25px rgba(255,140,0,.6);transform:scale(1.05);}
.dot-button:active{transform:scale(.95);box-shadow:inset 0 5px 10px rgba(0,0,0,.3);}
.dash-button{background:linear-gradient(145deg,#e69500,var(--dark-red));border:3px solid #b30000;color:var(--pure-white);}
.dash-button:hover{box-shadow:0 0 25px rgba(139,0,0,.6);transform:scale(1.05);}
.dash-button:active{transform:scale(.95);box-shadow:inset 0 5px 10px rgba(0,0,0,.3);}
.spectrum-display{height:200px;background:linear-gradient(180deg,#0a0a0a 0%,#1a1a1a 100%);border:2px solid #444;border-radius:8px;position:relative;overflow:hidden;display:flex;align-items:flex-end;justify-content:center;}
.spectrum-grid{position:absolute;top:0;left:0;right:0;bottom:0;background-image:linear-gradient(90deg,rgba(255,255,255,.1) 1px,transparent 1px),linear-gradient(rgba(255,255,255,.1) 1px,transparent 1px);background-size:20px 20px;opacity:.3;}
.morse-symbol{position:absolute;bottom:0;border-radius:2px;animation:floatUp 2s ease-out forwards;}
.dot-symbol{width:2px;height:20px;background:var(--amber-orange);box-shadow:0 0 10px var(--amber-orange);}
.dash-symbol{width:2px;height:60px;background:#e69500;box-shadow:0 0 10px #e69500;}
@keyframes floatUp{0%{bottom:0;opacity:1}100%{bottom:200px;opacity:0}}
.status-led{width:12px;height:12px;border-radius:50%;display:inline-block;margin-right:8px;}
.status-ready{background:var(--fluorescent-green);box-shadow:0 0 10px var(--fluorescent-green);animation:pulse 2s infinite;}
.status-sending{background:var(--amber-orange);box-shadow:0 0 10px var(--amber-orange);animation:pulse .5s infinite;}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
.speed-mode-button{padding:12px 24px;border-radius:8px;font-weight:700;cursor:pointer;transition:all .3s ease;border:2px solid transparent;background:linear-gradient(145deg,#3a3a3a,#2a2a2a);color:var(--light-gray);}
.speed-mode-button:hover{transform:translateY(-2px);box-shadow:0 4px 15px rgba(0,0,0,.3);}
.speed-mode-button.active{border-color:var(--fluorescent-green);background:linear-gradient(145deg,var(--fluorescent-green),#00cc00);color:var(--deep-black);box-shadow:0 0 20px rgba(0,255,0,.4);}
.terminal-input{background:#0a0a0a;border:2px solid #444;color:var(--fluorescent-green);font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:16px;padding:12px;border-radius:4px;width:100%;outline:none;}
.terminal-input:focus{border-color:var(--fluorescent-green);box-shadow:0 0 10px rgba(0,255,0,.3);}
.control-button{background:linear-gradient(145deg,#3a3a3a,#2a2a2a);border:2px solid #555;color:var(--light-gray);padding:10px 20px;border-radius:6px;cursor:pointer;transition:all .3s ease;font-weight:500;}
.control-button:hover{border-color:var(--amber-orange);box-shadow:0 0 15px rgba(255,140,0,.3);transform:translateY(-2px);}
.control-button:active{transform:translateY(1px);box-shadow:inset 0 3px 5px rgba(0,0,0,.3);}
.control-button.active{background:linear-gradient(145deg,var(--amber-orange),#e69500);border-color:var(--amber-orange);color:var(--deep-black);box-shadow:0 0 15px rgba(255,140,0,.4);}
.difficulty-button{padding:12px 24px;border-radius:8px;font-weight:700;cursor:pointer;transition:all .3s ease;border:2px solid transparent;background:#333;color:#666;}
.difficulty-button:hover{transform:translateY(-2px);box-shadow:0 4px 15px rgba(0,0,0,.3);}
.difficulty-button.active{border-color:var(--fluorescent-green);background:var(--fluorescent-green);color:var(--deep-black);box-shadow:0 0 20px rgba(0,255,0,.4);}
.difficulty-button.inactive{opacity:.4;background:#222;color:#444;border-color:#444;}
.question-display{background:linear-gradient(145deg,#1a1a1a,#0f0f0f);border:2px solid var(--deep-blue);border-radius:8px;padding:20px;margin:15px 0;font-size:18px;text-align:center;box-shadow:0 0 15px rgba(30,58,138,.3);}
.stats-card{background:linear-gradient(145deg,var(--dark-gray),#1f1f1f);border:2px solid #444;border-radius:8px;padding:15px;text-align:center;}
.stats-number{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:32px;color:var(--fluorescent-green);font-weight:700;}
.stats-label{font-size:14px;color:var(--light-gray);margin-top:5px;}
.score-display{background:linear-gradient(145deg,var(--dark-gray),#1f1f1f);border:2px solid var(--fluorescent-green);border-radius:8px;padding:15px;text-align:center;box-shadow:0 0 20px rgba(0,255,0,.2);}
@media (max-width:768px){.cw-button{width:100px;height:100px;font-size:20px}.spectrum-display{height:150px}@keyframes floatUp{0%{bottom:0;opacity:1}100%{bottom:150px;opacity:0}}}
</style>

<!-- =====  主体  ===== -->
<div class="container mx-auto px-4 py-6 max-w-7xl">
  <div class="text-center mb-8">
    <h1 class="text-4xl md:text-5xl font-bold mb-4 text-white">CW 发报器</h1>
    <p class="text-lg opacity-80 mb-4">专业摩尔斯电码训练工具 - 修复版本</p>
    <div class="flex items-center justify-center">
      <span class="status-led status-ready" id="statusIndicator"></span>
      <span class="text-sm" id="statusText">就绪</span>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
    <!-- 发送器 -->
    <div class="panel-bg p-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold text-white">发送器</h2>
        <div class="flex space-x-2">
          <button class="control-button active" id="freeModeBtn">自由模式</button>
          <button class="control-button" id="practiceModeBtn">练习模式</button>
        </div>
      </div>

      <div class="mb-6">
        <label class="block text-sm font-medium mb-3 text-gray-300">发送速度模式</label>
        <div class="grid grid-cols-3 gap-4">
          <button class="speed-mode-button active" id="learningMode"><div class="font-bold">学习速度</div><div class="text-xs opacity-80">1200ms</div></button>
          <button class="speed-mode-button" id="normalMode"><div class="font-bold">通联速度</div><div class="text-xs opacity-80">600ms</div></button>
          <button class="speed-mode-button" id="competitionMode"><div class="font-bold">竞赛速度</div><div class="text-xs opacity-80">300ms</div></button>
        </div>
      </div>

      <div class="spectrum-display mb-6" id="spectrumDisplay">
        <div class="spectrum-grid"></div>
        <div class="absolute inset-0 flex items-center justify-center text-gray-500" id="spectrumPlaceholder">点击按钮开始发送</div>
      </div>

      <div class="flex justify-center space-x-8 mb-6">
        <button class="cw-button dot-button" id="dotButton"><div class="flex flex-col items-center justify-center h-full"><div class="text-3xl mb-2">•</div><div class="text-sm">点</div></div></button>
        <button class="cw-button dash-button" id="dashButton"><div class="flex flex-col items-center justify-center h-full"><div class="text-3xl mb-2">—</div><div class="text-sm">划</div></div></button>
      </div>

      <div class="mb-4">
        <div class="flex items-center justify-between mb-2">
          <label class="block text-sm font-medium text-gray-300">识别结果</label>
          <button class="control-button text-sm px-3 py-1" id="clearSendResult">清空</button>
        </div>
        <div class="terminal-input h-16 overflow-y-auto" id="sendResult">等待发送...</div>
      </div>

      <div class="grid grid-cols-3 gap-4">
        <div class="stats-card"><div class="stats-number" id="sendSpeed">0</div><div class="stats-label">WPM</div></div>
        <div class="stats-card"><div class="stats-number" id="sendCount">0</div><div class="stats-label">已发送</div></div>
        <div class="stats-card"><div class="stats-number" id="currentChar">-</div><div class="stats-label">当前字符</div></div>
      </div>

      <div id="sendPracticePanel" class="hidden mt-6 panel-bg p-4">
        <h3 class="font-bold mb-3 text-white">发送练习</h3>
        <div class="question-display" id="sendQuestion">点击"开始练习"开始</div>
        <div class="flex justify-between items-center mt-4">
          <button class="control-button" id="startSendPractice">开始练习</button>
          <div class="text-lg font-mono text-green-400" id="sendTimer">00:00</div>
          <button class="control-button" id="nextSendQuestion">下一题</button>
        </div>
        <div id="sendPracticeResult" class="mt-3 text-center"></div>
      </div>
    </div>

    <!-- 接收器 -->
    <div class="panel-bg p-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold text-white">接收器</h2>
        <div class="flex items-center space-x-4">
          <span class="text-sm text-gray-300">速度:</span>
          <div class="flex items-center space-x-2">
            <input type="range" class="w-24" id="receiveSpeed" min="5" max="30" value="15" step="5">
            <span class="text-sm font-mono" id="speedDisplay">15 WPM</span>
          </div>
        </div>
      </div>

      <div class="mb-6">
        <div class="flex items-center justify-between mb-3">
          <span class="text-sm text-gray-300">音频控制</span>
          <div class="flex space-x-2">
            <button class="control-button" id="playButton">播放</button>
            <button class="control-button" id="stopButton">停止</button>
          </div>
        </div>
        <div class="flex items-center space-x-4">
          <span class="text-xs text-gray-400">音量:</span>
          <input type="range" class="w-24" id="volumeSlider" min="0" max="100" value="70">
          <span class="text-xs font-mono" id="volumeDisplay">70%</span>
        </div>
      </div>

      <div class="mb-6">
        <label class="block text-sm font-medium mb-2 text-gray-300">难度选择</label>
        <div class="flex space-x-2">
          <button class="difficulty-button difficulty-easy active" id="easyBtn">初级</button>
          <button class="difficulty-button difficulty-medium inactive" id="mediumBtn">中级</button>
          <button class="difficulty-button difficulty-hard inactive" id="hardBtn">高级</button>
        </div>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium mb-2 text-gray-300">输入接收内容</label>
        <input type="text" class="terminal-input" id="receiveInput" placeholder="输入接收到的摩尔斯电码内容...">
      </div>

      <div class="flex space-x-4 mb-6">
        <button class="control-button" id="startReceive">开始接收</button>
        <button class="control-button" id="submitAnswer">提交答案</button>
        <button class="control-button" id="clearAnswer">清除</button>
      </div>

      <div class="mb-6">
        <label class="block text-sm font-medium mb-2 text-gray-300">结果</label>
        <div class="terminal-input h-20 overflow-y-auto" id="receiveResult">等待开始...</div>
      </div>

      <div class="score-display mb-4">
        <div class="text-lg font-bold text-white mb-2">本次得分</div>
        <div class="grid grid-cols-3 gap-4">
          <div><div class="text-2xl font-bold text-amber-400" id="accuracyScore">0%</div><div class="text-xs text-gray-400">准确率</div></div>
          <div><div class="text-2xl font-bold text-blue-400" id="speedScore">0</div><div class="text-xs text-gray-400">速度分</div></div>
          <div><div class="text-2xl font-bold text-green-400" id="totalScore">0</div><div class="text-xs text-gray-400">总分</div></div>
        </div>
      </div>

      <div class="mb-4">
        <div class="text-sm text-gray-300 mb-2">当前题目:</div>
        <div class="question-display" id="receiveQuestion">点击"开始接收"开始练习</div>
      </div>
    </div>
  </div>

  <div class="panel-bg p-6 mb-8">
    <h3 class="text-xl font-bold mb-4 text-white">设置</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-300">音频频率</label>
        <div class="flex items-center space-x-2">
          <input type="range" class="w-full" id="frequencySlider" min="600" max="1000" value="800">
          <span class="text-sm font-mono" id="frequencyDisplay">800Hz</span>
        </div>
      </div>
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-300">字符间隔 (ms)</label>
        <div class="flex items-center space-x-2">
          <input type="range" class="w-full" id="intervalSlider" min="300" max="2000" value="1200" disabled>
          <span class="text-sm font-mono" id="intervalDisplay">1200ms</span>
        </div>
      </div>
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-300">音效开关</label>
        <label class="relative inline-flex items-center cursor-pointer">
          <input type="checkbox" id="soundToggle" class="sr-only peer" checked>
          <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500"></div>
        </label>
      </div>
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-300">视觉效果</label>
        <label class="relative inline-flex items-center cursor-pointer">
          <input type="checkbox" id="visualToggle" class="sr-only peer" checked>
          <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500"></div>
        </label>
      </div>
    </div>
  </div>


  <footer class="text-center py-8 opacity-60">
    <p class="text-sm">© 2025 CW发报练习 | BG7KMT</p>
  </footer>
</div>

<script>
//<![CDATA[
console.log('=== JS 开始执行 ===');
document.addEventListener('DOMContentLoaded', () => {
  console.log('DOM 加载完成');
  window.cwTransmitter = { init: () => console.log('假对象初始化成功') };
  console.log('cwTransmitter 已挂载');
});
//]]>
</script>